let mapleader = " "

" :actionlist for all commands
set surround
set multiple-cursors
set history=1000
set visualbell
set noerrorbells

" Highlight search results when typing
set incsearch

" Highlight search results
set hlsearch

" relative numbers
set relativenumber
set NERDTree
set highlightedyank
set argtextobj
set ReplaceWithRegister


set clipboard+=unnamed

" Display at least 3 lines around you cursor
set scrolloff=15

" Ignore case when searching
set ignorecase

" If there is an uppercase in your search term
set smartcase

" KEYMAP
map <leader>n :NERDTreeToggle<CR>
" map <c-n> <a-n>
" map <c-x> <a-x>
" map <c-p> <a-p>
" map g<c-n> g<a-p>

map <C-h> <C-w>h
map <C-j> <C-w>j
map <C-k> <C-w>k
map <C-l> <C-w>l

nmap <C-d> <C-d>zz
nmap <C-u> <C-u>zz

nmap gg gg0
nmap G G$

nnoremap <leader>sbt :action Activatesbt-shell-toolwindowToolWindow<CR>
nnoremap <leader>stw :action ActivatesbtToolWindow<CR>

nmap <S-q> :action HideActiveWindow<CR>

noremap <leader>cl :<C-u>nohlsearch<CR><C-l>
nnoremap <silent> <Esc><Esc> <Esc>:nohlsearch<CR><Esc>

" Pasting from yank history
nnoremap <leader>y :action PasteMultiple<CR>

" Comment
nnoremap <leader>gc :action CommentByLineComment<CR>
vmap <leader>gc :action CommentByLineComment<CR>
vmap <leader>gb :action CommentByBlockComment<CR>

" Menus
nnoremap <leader>m :action ActivateProjectToolWindow<CR>

" Refactorings
nnoremap <leader>oi :action OptimizeImports<CR>
nnoremap <leader>rn :action RenameElement<CR>
nnoremap <leader>rf :action RenameFile<CR>
nnoremap <leader>ri :action Inline<CR>
nnoremap <leader>rv :action IntroduceVariable<CR>
nnoremap <leader>rm :action ExtractMethod<CR>
nnoremap <leader>rr :action Refactorings.QuickListPopupAction<CR>

vmap <leader>rp :action IntroduceParameter<CR>
vmap <leader>rn :action RenameElement<CR>
vmap <leader>rf :action RenameFile<CR>
vmap <leader>ri :action Inline<CR>
vmap <leader>rv :action IntroduceVariable<CR>
vmap <leader>rm :action ExtractMethod<CR>
vmap <leader>rr :action Refactorings.QuickListPopupAction<CR>
nnoremap <leader>rp :action IntroduceParameter<CR>
nnoremap <leader>cm :action ImplementMethods<CR>
nnoremap <leader>co :action OverrideMethods<CR>
nnoremap <leader>ca :action ShowIntentionActions<CR>
nnoremap <leader>F :action ReformatCode<CR>

" GoTo
nnoremap <leader>gd :action GotoDeclaration<CR>
nnoremap <leader>gr :action FindUsages<CR>
nnoremap <leader>gi :action GotoImplementation<CR>
nnoremap <leader>gs :action ActivateStructureToolWindow<CR>
nnoremap <leader>uk :action ParameterInfo<CR>
nnoremap <leader>ui :action Scala.ShowImplicitArguments<CR>
nnoremap <leader>ci :action QuickImplementations<CR>
nnoremap <leader>uc :action EditorContextInfo<CR>

nnoremap <leader>ss :action SplitVertically<CR>
nnoremap <leader>sv :action SplitHorizontally<CR>
nnoremap <S-l> :action NextTab<CR>
nnoremap <S-h> :action PreviousTab<CR>
nnoremap <C-S-l> :action MoveTabRight<CR>
nnoremap <C-S-h> :action MoveTabLeft<CR>

" Types
nnoremap K :action Scala.TypeInfo<CR>
vmap K :action Scala.TypeInfo<CR>

" Search
nnoremap <leader>fs :action GotoSymbol<CR>
nnoremap <leader>ff :action GotoFile<CR>
nnoremap <leader>fc :action GotoClass<CR>
nnoremap <leader>fa :action GotoAction<CR>
nnoremap <leader>sg :action FindInPath<CR>
nnoremap <leader>sr :action ReplaceInPath<CR>
vmap <leader>sg :action FindInPath<CR>
vmap <leader>sr :action ReplaceInPath<CR>
vnoremap * y <Esc>/<C-r>0<CR>

" Test and Run
nnoremap <leader>tt :action GotoTest<CR>
nnoremap <leader>tn :action RunClass<CR>
nnoremap <leader>tl :action Rerun<CR>
nnoremap <leader>tf :action RerunFailedTests<CR>

" Undo
nnoremap <leader>uh :action LocalHistory.ShowHistory<CR>

" Jumping
" built-in navigation to navigated items works better
" HANDLED with intellij shortcuts for now, this is not used
nnoremap <c-o> :action Back<cr>
nnoremap <c-i> :action Forward<cr>

" Navigation
nnoremap ]c :action GotoNextError<cr>
nnoremap [c :action GotoPreviousError<cr>
nnoremap ]h :action VcsShowNextChangeMarker<cr>
nnoremap [h :action VcsShowPrevChangeMarker<cr>
nnoremap <leader>se :action ShowErrorDescription<cr>

" Misc
nnoremap <leader>vr :source ~/.ideavimrc<CR>
noremap <leader>vr :source ~/.ideavimrc<CR>
